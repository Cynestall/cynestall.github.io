<!DOCTYPE HTML>
<html>
	<head>
		<title>PCRec | Recommendations</title>
	    <link id="styleslink" rel="stylesheet" href="styles.css">
		<link href = "https://i.imgur.com/6LT5uPE.png" rel="shortcut icon">
		<link href="https://fonts.googleapis.com/css?family=Raleway|Ubuntu&display=swap" rel="stylesheet">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
      <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
	</head>
	<body>
      <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-164684948-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-164684948-1');
</script>

      <script type="text/javascript">
         function onButtonProto () {
            console.log("Prototype clicked!");
            gtag('js', new Date());
            gtag("event", "Prototype", {
               "event_category": "Recommendations"
            });
         }
      </script>
   <div id="content">
      <div class="colordecor1">
      <header id="header">
         <nav>

            <div class="navigation">

               <a href="index.html">
               <img class="pclogo" src="pclogo.svg">
                  </a>
               <ul class="navul">
                  <a href="info.html">
                     <li class="text">
                        Info
                     </li>
                  </a>

                  <a href="recommendations.html">
                     <li class="text">
                        Recommendations
                     </li>
                  </a>

                  <a href="https://www.figma.com/proto/66qsoFt9STvLVhtqVy2sjT/PCREC?node-id=22%3A18&scaling=scale-down" target="_blank" onclick="onButtonProto()">
                     <li class="text">
                        App Prototype
                     </li>
                  </a>

               </ul>

               </div>
               <img src="menu.png" class="menuicon" onclick="menuClick()">     
            </nav>   

            <div id="menu">
          <ul>
               <a href="index.html">
                  <li class="text">
                     Home
                  </li>
               </a>
               <hr>
               <a href="info.html">
                  <li class="text">
                     Info
                  </li>
               </a>
               <hr>
               <a href="recommendations.html">
                  <li class="text">
                     Recommendations
                  </li>
               </a>
               <hr>
               <a href="https://www.figma.com/proto/66qsoFt9STvLVhtqVy2sjT/PCREC?node-id=22%3A18&scaling=scale-down" target="_blank">
                  <li class="text">
                     App Prototype
                  </li>
               </a>

               </ul>
      </div>

      </header>

       <div class="centercolor">
      <div class="centerrecom" id="centerdiv">

      <h2 id="recommendations">Recommendations</h2>
      <h2 id="back" onclick="backList()">Back</h2>
      <br>
      <br>
      <div class="recom-content">
         <div class="recom-search">

               <div class="price-search">
                  Price:
                  <div class="price-range-values-div">
                     <input type="number" name="min" placeholder="0" class="price-range-values" oninput="setMin(this.value)" id="min">
                     -
                     <input type="number" name="max" placeholder="0" class="price-range-values" oninput="setMax(this.value)" id="max">
                  </div>

                  <br>

                  <div id="range-slider"></div>
                  <br>
                     Sort by: 
                     <select name="sort" id="sort-by">
                        <option value="cheap">Cheapest first</option>
                        <option value="expensive">Most expensive first</option>
                        <option value="name">By name</option>
                     </select>
                  <button onclick="listSearch()" id="search-button">Search</button>
               </div>

               <!--<div id="cpu-search">
                  CPU:
               </div>
               <button type="button" onclick="listCpuSearch()">Search</button>
               <br>
               <div id="gpu-search">
                  GPU:
               </div>
               <button type="button" onclick="listGpuSearch()">Search</button> -->

         </div>

         <div id="recomList">

         </div>
      </div>
      <div id="product-area">
         <h1 class="pcname" id="pcnamephone"></h1>
         <div class="product-image">
         </div>

         <div class="product-text-area">
            <div class="product-text">
               <h1 class="pcname" id="pcnameproduct"></h1>

               <div class="product-text-p">
                  <p>CPU: <span id="gpu"></span></p>
                  <p>GPU: <span id="cpu"></span></p>
                  <p>RAM: <span id="ram"></span></p>
               </div>
               <p class="price"><span id="priceproduct"></span>$</p>
               <br>
               <button type="button" class="order-button">Order</button>
            </div>
         </div>

     </div>



      <div class="recomspacing">
      </div>

   </div>
   </div>
   </div>

<br>

<footer>

   <div class="footer-left">
      <strong>© 2020 PCRec OÜ</strong>
   </div>


   <ul class="footer-right">
      <li>
         <a href="https://www.figma.com/proto/66qsoFt9STvLVhtqVy2sjT/PCREC?node-id=22%3A18&scaling=scale-down" target="_blank" onclick="onButtonProto()">
            App Prototype  
         </a>
      </li>

      <li>
         <a href="recommendations.html">
            Recommendations
         </a>
      </li>

      <li>
         <a href="info.html">
            Info
         </a>
      </li>

   </ul>
 </footer>
   </div>

   <script src="javascript.js"></script>
   <script type="text/javascript">
      var computerList = [
      {
         "id": 0,
         "name": "Enthusiast PC  Champion I",
         "imgURL": "http://avadirect-freedomusainc1.netdna-ssl.com/pictures/750/11020244_16.png",
         "price": 3999,
         "cpu": "i9 9900K",
         "gpu": "2x RTX 2080 Ti",
         "ram": "4x8 GB 3200 Mhz"
      },
      {
         "id": 1,
         "name": "Gaming PC Challenger I",
         "imgURL": "https://i.imgur.com/QPYp7Xr.png",
         "price": 1999,
         "cpu": "i7 8700K",
         "gpu": "RTX 2080 Ti",
         "ram": "2x8 GB 3600 Mhz"
      },
      {
         "id": 2,
         "name": "Gaming PC Conqueror I",
         "imgURL": "http://avadirect-freedomusainc1.netdna-ssl.com/pictures/750/Intel_Z370_Custom_Computer_Desktop_pc.png",
         "price": 1299,
         "cpu": "Ryzen 5 3600X",
         "gpu": "RX 5700 XT",
         "ram": "2x8 GB 3200 Mhz"
      },
      {
         "id": 3,
         "name": "Gaming PC Predator I",
         "imgURL": "https://cdn.shopify.com/s/files/1/0228/7629/1136/files/main-shot-3_7bdebcdd-e27d-471d-99e8-dbe9885045b2.png?68558",
         "price": 1099,
         "cpu": "Ryzen 5 3600",
         "gpu": "RTX 2060",
         "ram": "2x8 GB 3200 Mhz"
      },
      {
         "id": 4,
         "name": "Gaming PC Starter I",
         "imgURL": "https://cdn.cnetcontent.com/syndication/mediaserverredirect/d6356553b23f764ed653544119c4b5e3/original.png",
         "price": 499,
         "cpu": "Ryzen 3 3400G",
         "gpu": "Integrated",
         "ram": "2x8 GB 3000Mhz"
      },
      {
         "id": 5,
         "name": "Gaming PC Starter II",
         "imgURL": "https://aerocool.io/wp-content/uploads/2018/05/AeroCool-Cylon-Product-Gallery.png",
         "price": 699,
         "cpu": "Ryzen 5 2600",
         "gpu": "GTX 1660",
         "ram": "2x8 GB 3200 Mhz"
      },
      {
         "id": 6,
         "name": "Gaming PC Champion II",
         "imgURL": "https://d3eqjvh3r56yhd.cloudfront.net/wp-content/uploads/2017/12/o10wgs-im-00.png",
         "price": 2999,
         "cpu": "Ryzen 9 3950X",
         "gpu": "RTX 2080 Ti",
         "ram": "4x8 GB 3600Mhz"
      },
      {
         "id": 7,
         "name": "Gaming PC Challenger II",
         "imgURL": "https://sta3-nzxtcorporation.netdna-ssl.com/uploads/product_image/image/2592/large_a8d197182a5315f1.png",
         "price": 1899,
         "cpu": "Ryzen 7 3700X",
         "gpu": "RTX 2070",
         "ram": "2x8 GB 3600Mhz"
      },
      {
         "id": 8,
         "name": "Gaming PC Conqueror II",
         "imgURL": "https://www.scan.co.uk/images/infopages/corsair_cases/spec_omega/rgb-black-glass.png",
         "price": 1399,
         "cpu": "Ryzen 7 3700X",
         "gpu": "RX 5700 XT",
         "ram": "2x8 GB 3600Mhz"
      },
      {
         "id": 9,
         "name": "Gaming PC Predator II",
         "imgURL": "https://sta3-nzxtcorporation.netdna-ssl.com/uploads/variant/image/5735014/large_32f4d30af03ca1fb.png",
         "price": 999,
         "cpu": "Ryzen 5 3600",
         "gpu": "RX 5700",
         "ram": "2x8GB 3200Mhz"
      }
      ];

      var showingProducts = [];

      function loadProducts() {
      for (var index = 0; index < computerList.length; index++) {

         showingProducts.push(computerList[index]);

         var div = document.createElement("DIV");
         div.classList.add("recomItem");

         var namep = document.createElement("P");
         namep.classList.add("pcname");
         namep.innerHTML = computerList[index].name;

         var img = document.createElement("IMG");
         img.src = computerList[index].imgURL;
         img.setAttribute("onclick", "showProduct("+ index +")");

         var price = document.createElement("P");
         price.classList.add("price");
         price.innerHTML = computerList[index].price + "$";

         var cpu = document.createElement("P");
         cpu.innerHTML = computerList[index].cpu;

         var gpu = document.createElement("P");
         gpu.innerHTML = computerList[index].gpu;

         var ram = document.createElement("P");
         ram.innerHTML = computerList[index].ram;

         div.appendChild(namep);
         div.appendChild(img);
         div.appendChild(price);
         div.appendChild(cpu);
         div.appendChild(gpu);
         div.appendChild(ram);

         document.getElementById("recomList").appendChild(div);
      }
      }

      loadProducts();

      function showProduct (id) {
         document.getElementById("recomList").style.display = "none";

         document.getElementsByClassName("product-image")[0].style.backgroundImage = "url(" + computerList[id].imgURL + ")";

         document.getElementById("pcnameproduct").innerHTML = computerList[id].name;

         document.getElementById("pcnamephone").innerHTML = computerList[id].name;

         document.getElementById("priceproduct").innerHTML = computerList[id].price;

         document.getElementById("cpu").innerHTML = computerList[id].cpu;

         document.getElementById("gpu").innerHTML = computerList[id].gpu;

         document.getElementById("ram").innerHTML = computerList[id].ram;

         document.getElementById("recommendations").style.display = "none";
         document.getElementById("back").style.display = "inline-block";

         document.getElementById("product-area").style.display = "flex";
         document.title = "PCRec | " + computerList[id].name;
      }

      function backList () {
         document.getElementById("recommendations").style.display = "inline-block";
         document.getElementById("back").style.display = "none";

         document.getElementById("recomList").style.display = "block";
         document.getElementById("product-area").style.display = "none";

         document.title = "PCRec | Recommendations";
      }

      var maximum = 0;

      for(var i = 0; i < computerList.length; i++) {
         if (computerList[i].price > maximum) {
            maximum = computerList[i].price;
         }
      }

      $("#min").val(0);
      $("#max").val(maximum);


      $( function() {
         $("#range-slider").slider({
            animate: "fast",
            range: true,
            min: 0,
            max: maximum,
            values: [0, maximum],
            slide: function( event, ui ) {
               $("#min").val(ui.values[0]);
               $("#max").val(ui.values[1]);  
            }
         });
      });

      function setMin (val) {

         if (val > 0 && val < $("#range-slider").slider("values", 1)) {
            $("#range-slider").slider("values", 0, val);
         };
         if (val === "") {
            $("#range-slider").slider("values", 0, 0);
         }
      }

      function setMax (val) {
         if (val > $("#range-slider").slider("values", 0) && val <= maximum) {
            $("#range-slider").slider("values", 1, val);
         };
         if (val === "") {
            $("#range-slider").slider("values", 1, 0);
         }
         if (val > maximum) {
            $("#range-slider").slider("values", 1, maximum);
            $("#max").val(maximum);
         }
      }

      function listSearch () {

         $("#recomList").html("");

         showingProducts = [];

         for (var index = 0; index < computerList.length; index++) {

            if (computerList[index].price >= $("#range-slider").slider("values", 0) && computerList[index].price <= $("#range-slider").slider("values", 1)) {
               showingProducts.push(computerList[index]);
            }

            if (document.getElementById("sort-by").value == "cheap")  {
               showingProducts.sort(function (a,  b) {
                  if (a.price > b.price) {
                     return 1;
                  }
                  if (a.price < b.price) {
                     return -1;
                  }
                  return 0;
               });
            } else if (document.getElementById("sort-by").value == "expensive") {
               showingProducts.sort(function (a,  b) {
                  if (a.price < b.price) {
                     return 1;
                  }
                  if (a.price > b.price) {
                     return -1;
                  }
                  return 0;
               });
            } else if (document.getElementById("sort-by").value == "name") {
               showingProducts.sort(function (a,  b) {
                  if (a.name > b.name) {
                     return 1;
                  }
                  if (a.name < b.name) {
                     return -1;
                  }
                  return 0;
               });
            }
            }

         for (var index = 0; index <  showingProducts.length; index++) {
            var div = document.createElement("DIV");
               div.classList.add("recomItem");

               var namep = document.createElement("P");
               namep.classList.add("pcname");
               namep.innerHTML = showingProducts[index].name;

               var img = document.createElement("IMG");
               img.src = showingProducts[index].imgURL;
               img.setAttribute("onclick", "showProduct("+ index +")");

               var price = document.createElement("P");
               price.classList.add("price");
               price.innerHTML = showingProducts[index].price + "$";

               var cpu = document.createElement("P");
               cpu.innerHTML = showingProducts[index].cpu;

               var gpu = document.createElement("P");
               gpu.innerHTML = showingProducts[index].gpu;

               var ram = document.createElement("P");
               ram.innerHTML = showingProducts[index].ram;

               div.appendChild(namep);
               div.appendChild(img);
               div.appendChild(price);
               div.appendChild(cpu);
               div.appendChild(gpu);
               div.appendChild(ram);

               document.getElementById("recomList").appendChild(div);
         }


         }


      // var div = document.createElement("DIV");
      //          div.classList.add("recomItem");

      //          var namep = document.createElement("P");
      //          namep.classList.add("pcname");
      //          namep.innerHTML = computerList[index].name;

      //          var img = document.createElement("IMG");
      //          img.src = computerList[index].imgURL;
      //          img.setAttribute("onclick", "showProduct("+ index +")");

      //          var price = document.createElement("P");
      //          price.classList.add("price");
      //          price.innerHTML = computerList[index].price + "$";

      //          var cpu = document.createElement("P");
      //          cpu.innerHTML = computerList[index].cpu;

      //          var gpu = document.createElement("P");
      //          gpu.innerHTML = computerList[index].gpu;

      //          var ram = document.createElement("P");
      //          ram.innerHTML = computerList[index].ram;

      //          div.appendChild(namep);
      //          div.appendChild(img);
      //          div.appendChild(price);
      //          div.appendChild(cpu);
      //          div.appendChild(gpu);
      //          div.appendChild(ram);

      //          document.getElementById("recomList").appendChild(div);







      // var itemListCpu = [];

      // var newItemListCpu = [];


      // function loadCpuSearch () {

      //    var item;

      //    for(var i = 0; i < computerList.length; i++) {

      //       item = computerList[i].cpu;

      //       itemListCpu.push(item);

      //    }

      //    newItemListCpu = itemListCpu.filter((elem, i, arr) => {

      //       if (arr.indexOf(elem) === i) {
      //          return elem;
      //       };

      //    });

      //    for (var j = 0; j < newItemListCpu.length; j++) {

      //       var div = document.createElement("DIV");
      //       $(div).addClass("cpu-search-div");

      //       var input = document.createElement("INPUT");
      //       $(input).attr("type", "checkbox");
      //       $(input).attr("id", "cpu-" + j);

      //       var label = document.createElement("LABEL");
      //       $(label).attr("for", "cpu-" + j);
      //       $(label).html(itemListCpu[j]);

      //       var br = document.createElement("BR");

      //       $(div).append(input);
      //       $(div).append(label);

      //       $("#cpu-search").append(div);


      //    }

      // }

      // loadCpuSearch();

      // function listCpuSearch () {

      //    $("#recomList").html("");

      //    for (var i = 0; i < newItemListCpu.length; i++) {


      //       if($("#cpu-" + i).prop("checked") === true) {

      //          var a = itemListCpu.indexOf(newItemListCpu[i]);

      //          var b = [];

      //          b.push(a);

      //          while(a >= 0) {
                     
      //                a = itemListCpu.indexOf(newItemListCpu[i], a+1);

      //                if (a >= 0) {
      //                   b.push(a);
      //                }
      //          }
      //          for(var j = 0; j < b.length; j++) {

      //                   var div = document.createElement("DIV");
      //                   div.classList.add("recomItem");

      //                   var namep = document.createElement("P");
      //                   namep.classList.add("pcname");
      //                   namep.innerHTML = computerList[b[j]].name;

      //                   var img = document.createElement("IMG");
      //                   img.src = computerList[b[j]].imgURL;
      //                   img.setAttribute("onclick", "showProduct("+ b[j] +")");

      //                   var price = document.createElement("P");
      //                   price.classList.add("price");
      //                   price.innerHTML = computerList[b[j]].price + "$";

      //                   var cpu = document.createElement("P");
      //                   cpu.innerHTML = computerList[b[j]].cpu;

      //                   var gpu = document.createElement("P");
      //                   gpu.innerHTML = computerList[b[j]].gpu;

      //                   var ram = document.createElement("P");
      //                   ram.innerHTML = computerList[b[j]].ram;

      //                   div.appendChild(namep);
      //                   div.appendChild(img);
      //                   div.appendChild(price);
      //                   div.appendChild(cpu);
      //                   div.appendChild(gpu);
      //                   div.appendChild(ram);

      //                   document.getElementById("recomList").appendChild(div);

      //                }

      //       }

      //    }
      // }



      // var itemListGpu = [];

      // var newItemListGpu = [];


      // function loadGpuSearch () {

      //    var item;

      //    for(var i = 0; i < computerList.length; i++) {

      //       item = computerList[i].gpu;

      //       itemListGpu.push(item);

      //    }

      //    newItemListGpu = itemListGpu.filter((elem, i, arr) => {

      //       if (arr.indexOf(elem) === i) {
      //          return elem;
      //       };

      //    });

      //    for (var j = 0; j < newItemListGpu.length; j++) {

      //       var div = document.createElement("DIV");
      //       $(div).addClass("gpu-search-div");

      //       var input = document.createElement("INPUT");
      //       $(input).attr("type", "checkbox");
      //       $(input).attr("id", "gpu-" + j);

      //       var label = document.createElement("LABEL");
      //       $(label).attr("for", "gpu-" + j);
      //       $(label).html(itemListGpu[j]);

      //       var br = document.createElement("BR");

      //       $(div).append(input);
      //       $(div).append(label);

      //       $("#gpu-search").append(div);


      //    }

      // }

      // loadGpuSearch();

      // function listGpuSearch () {


      //    $("#recomList").html("");

      //    for (var i = 0; i < newItemListGpu.length; i++) {

      //       if ($("#gpu-" + i).prop("checked") === true) {

      //          var a = itemListGpu.indexOf(newItemListGpu[i]);

      //          var b = [];

      //          b.push(a);

      //          while(a >= 0) {
                     
      //                a = itemListGpu.indexOf(newItemListGpu[i], a+1);

      //                if (a >= 0) {
      //                   b.push(a);
      //                }
      //          }

      //             for(var j = 0; j < b.length; j++) {

      //                      var div = document.createElement("DIV");
      //                      div.classList.add("recomItem");

      //                      var namep = document.createElement("P");
      //                      namep.classList.add("pcname");
      //                      namep.innerHTML = computerList[b[j]].name;

      //                      var img = document.createElement("IMG");
      //                      img.src = computerList[b[j]].imgURL;
      //                      img.setAttribute("onclick", "showProduct("+ b[j] +")");

      //                      var price = document.createElement("P");
      //                      price.classList.add("price");
      //                      price.innerHTML = computerList[b[j]].price + "$";

      //                      var cpu = document.createElement("P");
      //                      cpu.innerHTML = computerList[b[j]].cpu;

      //                      var gpu = document.createElement("P");
      //                      gpu.innerHTML = computerList[b[j]].gpu;

      //                      var ram = document.createElement("P");
      //                      ram.innerHTML = computerList[b[j]].ram;

      //                      div.appendChild(namep);
      //                      div.appendChild(img);
      //                      div.appendChild(price);
      //                      div.appendChild(cpu);
      //                      div.appendChild(gpu);
      //                      div.appendChild(ram);

      //                      document.getElementById("recomList").appendChild(div);

      //             }

      //       }
      //    }
      // }



   </script>
	</body>
   </html>